<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Blog</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container mt-4">
      <!-- Blog submission form -->
      <form action="/submit" method="post" class="row g-3">
        <input
          type="text"
          name="name"
          class="form-control"
          placeholder="Blog name"
          required
        />
        <input
          type="text"
          name="author"
          class="form-control"
          placeholder="Author"
          required
        />
        <input
          type="hidden"
          name="date"
          value="<%= new Date().toLocaleString() %>"
        />
        <button class="btn btn-primary" type="submit">Submit</button>
      </form>

      <!-- Blog list -->
      <div class="mt-5">
        <% for (let index = 0; index < blogs.length; index++) { %>
        <div class="card mb-3">
          <div class="card-body">
            <h5 class="card-title"><%= blogs[index].name %></h5>
            <h6 class="card-subtitle mb-2 text-muted">
              by <%= blogs[index].author %>
            </h6>
            <p class="card-text">
              <small class="text-muted"><%= blogs[index].date %></small>
            </p>

            <!-- Delete form -->
            <form
              action="/delete/<%= blogs[index].id %>"
              method="POST"
              style="display: inline"
            >
              <button class="btn btn-danger btn-sm">Delete</button>
            </form>

            <!-- Edit link -->
            <a
              href="/edit/<%= blogs[index].id %>"
              class="btn btn-warning btn-sm"
              >Edit</a
            >
          </div>
        </div>
        <% } %>
      </div>
    </div>
  </body>
</html>
